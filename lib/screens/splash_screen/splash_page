class SplashScreen extends StatelessWidget {
  @override
  Widget build(BuildContext context) {
    return BlocProvider(
      create: (_) => SplashCubit()..startSplash(),
      child: BlocListener<SplashCubit, bool>(
        listener: (context, state) {
          if (state) {
           
            if (GetIt.I<DataLayer>().firstTimeJoin == "true" &&
                GetIt.I<DataLayer>().currentUserInfo!.isNotEmpty) {
              Navigator.of(context).pushReplacement(
                MaterialPageRoute(builder: (context) => const HomeScreen()),
              );
            } else if (GetIt.I<DataLayer>().firstTimeJoin == "true") {
              Navigator.pushReplacement(
                context,
                MaterialPageRoute(builder: (context) => const LoginScreen()),
              );
            } else if (GetIt.I<DataLayer>().firstTimeJoin == null) {
              Navigator.pushReplacement(
                context,
                MaterialPageRoute(builder: (context) => const WelcomeScreen()),
              );
            }
          }
        },
        child: Scaffold(
          backgroundColor: Colors.blueGrey, 
          body: CustomBackgroundContainer(
            child: Stack(
              children: [
         
                Padding(
                  padding: const EdgeInsets.only(top: 40.0),
                  child: Align(
                    alignment: Alignment.topCenter, 
                    child: Column(
                      crossAxisAlignment: CrossAxisAlignment.center,
                      mainAxisSize:
                          MainAxisSize.min, 
                      children: [
                        SizedBox(height: 40),
                        Image.asset(
                          'assets/images/onze.png',
                          width: 188.53,
                          height: 47.73,
                          fit: BoxFit.contain,
                        ),
                        SizedBox(height: 30), 

                        Center(
                          child: Row(
                            mainAxisAlignment: MainAxisAlignment.center,
                            children: [
                              Image.asset(
                                'assets/images/line.png',
                                width: 41.53,
                                height: 0.7,
                                fit: BoxFit.contain,
                              ),
                              Image.asset(
                                'assets/images/cafe.png',
                                width: 82.53,
                                height: 17.73,
                                fit: BoxFit.contain,
                              ),
                              Image.asset(
                                'assets/images/line.png',
                                width: 41.53,
                                height: 0.7,
                                fit: BoxFit.contain,
                              ),
                            ],
                          ),
                        ),
                      ],
                    ),
                  ),
                ),

       
                Align(
                  alignment: Alignment.bottomCenter,
                  child: Image.asset(
                    'assets/images/background_coffee.png', 
                    width: MediaQuery.of(context).size.width, 
                    fit: BoxFit.cover, 
                  ),
                ),
              ],
            ),
          ),
        ),
      ),
    );
  }
}